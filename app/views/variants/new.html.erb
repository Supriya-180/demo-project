<h1>new Variant</h1>


<%= form_with model: @variant, method: "post" do |f| %>
  <div>
      <%= f.label :name %><br>
      <%= f.text_field :name %>
      <% @variant.errors.full_messages_for(:name).each do |message| %>
        <div><%= message %></div>
      <% end %>
      
      <fieldset>
          <legend>variant_attributes:</legend>
          <%= f.fields_for :variant_attributes do |variant_form| %>
              <%= render "variant_attribute_fields", f: variant_form %> 
          <%#byebug%>
                    <% @variant_attributes.each do |message| %>
                        <div><%= message.errors.full_messages_for(:name) %></div>
                    <% end %>
          <% end %>
          <%= link_to_add_fields "Add variant_attributes", f, :variant_attributes %>
      </fieldset>

  </div>

  <div>
    <%= f.submit %>
  </div>
<% end %>



<!-- @client.tasks.each do |t|
  puts t.errors.full_messages.inspect
end -->
